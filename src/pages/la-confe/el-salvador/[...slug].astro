---
import LaConfeProfile from '@/layouts/LaConfeProfile.astro';
import incomingData from "@/data/la_confe/el-salvador.json";
import SocialMediaItem from '@/components/SocialMediaItem.astro';
import LaConfeIGSlider from '@/components/LaConfeIGSlider.astro';


export async function getStaticPaths() {
  return incomingData.map(entry => ({
    params: { slug: entry.slug }, props: { entry },
  }));
}

const { entry } = Astro.props;
---

<LaConfeProfile
  username={entry.username}
  title={entry.club}
  about={entry.country}
  profile_picture={entry.profile_picture}
  whatsapp={entry.whatsapp}
>
  {
    entry.social_links.map(
      (socialMedia: {
        social_media: any;
        url: string;
        optionalName?: string;
      }) => {
        return (
          <SocialMediaItem
            socialMediaType={socialMedia.social_media}
            url={socialMedia.url}
            optionalName={socialMedia.optionalName!}
          />
        );
      }
    )
  }
  <LaConfeIGSlider/>
</LaConfeProfile>
