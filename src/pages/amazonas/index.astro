---
import incomingData from "@/data/la_confe/amazon-seleccionadas.json";
import BaseHead from "@/components/BaseHead.astro";
import Footer from "@/components/Footer.astro";
import logo from "@public/svg/logo.svg";
import { Image } from "astro:assets";
import LaConfeCard from "@/components/LaConfeCard.astro";
import "@styles/breadcrumbs.css";
import Breadcrumb from "@/components/Breadcrumb.astro";
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={"La Confe"} description={"Amazonas"} />
  </head>
  <header>
    <nav class="px-4 lg:px-6 py-2.5 border-b-neutral-700 border-b-[0.5px]">
      <div
        class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"
      >
        <a href="/" class="flex items-center">
          <Image
            height={40}
            width={40}
            src={logo}
            alt="Kahete Logo"
            format={"avif"}
            quality={"mid"}
          />
        </a>
      </div>
    </nav>
  </header>
  <body>
    <section class="bg-neutral-1000">
      <div
        class="justify-between items-center mx-auto max-w-screen-xl pt-8 pl-4 pr-2"
      >
        <label class="text-white text-xl font-semibold">La Confe 28</label>
        <div class="mt-6 flex mb-4 breadcrum-list-container">
          <Breadcrumb
            dataTarget="all"
            isInitiallyActive
            title="All rotaractors"
          />
          <Breadcrumb dataTarget="el-salvador" title="El Salvador" />
          <Breadcrumb dataTarget="guatemala" title="Guatemala" />
          <Breadcrumb dataTarget="panama" title="PanamÃ¡" />
          <Breadcrumb dataTarget="honduras" title="Honduras" />
          <Breadcrumb dataTarget="nicaragua" title="Nicaragua" />
          <Breadcrumb dataTarget="costa-rica" title="Costa Rica" />
          <Breadcrumb dataTarget="belice" title="Belice" />
          <Breadcrumb dataTarget="peru" title="PerÃº" />
        </div>
        <!-- PANELS -->
        <div id="panels" class="min-h-screen">
          <!-- All -->
          <div id="all" class="panel">
            <div class="pb-4">
              <label class="text-white">All countries ðŸ‡¸ðŸ‡»ðŸ‡µðŸ‡ªðŸ‡­ðŸ‡³ðŸ‡³ðŸ‡®ðŸ‡¨ðŸ‡·ðŸ‡§ðŸ‡¿ðŸ‡¬ðŸ‡¹ðŸ‡µðŸ‡¦</label>
            </div>
            {
              incomingData
                .sort(function (a, b) {
                  if (a.username < b.username) {
                    return -1;
                  }
                  if (a.username > b.username) {
                    return 1;
                  }
                  return 0;
                })
                .map((entry) => {
                  return <LaConfeCard entry={entry} />;
                })
            }
          </div>
          <div id="el-salvador" class="panel">
            <div class="pb-4">
              <label class="text-white">El Salvador ðŸ‡¸ðŸ‡»</label>
            </div>
            {
              incomingData
                .filter(
                  (entry) => entry.country.toLowerCase() === "el salvador"
                )
                .sort(function (a, b) {
                  if (a.username < b.username) {
                    return -1;
                  }
                  if (a.username > b.username) {
                    return 1;
                  }
                  return 0;
                })
                .map((entry) => {
                  return <LaConfeCard entry={entry} />;
                })
            }
          </div>
          <div id="honduras" class="panel">
            <div class="pb-4">
              <label class="text-white">Honduras ðŸ‡­ðŸ‡³</label>
            </div>
            {
              incomingData
                .filter((entry) => entry.country.toLowerCase() === "honduras")
                .sort(function (a, b) {
                  if (a.username < b.username) {
                    return -1;
                  }
                  if (a.username > b.username) {
                    return 1;
                  }
                  return 0;
                })
                .map((entry) => {
                  return <LaConfeCard entry={entry} />;
                })
            }
          </div>
          <div id="guatemala" class="panel">
            <div class="pb-4">
              <label class="text-white">Guatemala ðŸ‡¬ðŸ‡¹</label>
            </div>
            {
              incomingData
                .filter((entry) => entry.country.toLowerCase() === "guatemala")
                .sort(function (a, b) {
                  if (a.username < b.username) {
                    return -1;
                  }
                  if (a.username > b.username) {
                    return 1;
                  }
                  return 0;
                })
                .map((entry) => {
                  return <LaConfeCard entry={entry} />;
                })
            }
          </div>
          <div id="panama" class="panel">
            <div class="pb-4">
              <label class="text-white">PanamÃ¡ ðŸ‡µðŸ‡¦</label>
            </div>
            {
              incomingData
                .filter((entry) => entry.country.toLowerCase() === "panama")
                .sort(function (a, b) {
                  if (a.username < b.username) {
                    return -1;
                  }
                  if (a.username > b.username) {
                    return 1;
                  }
                  return 0;
                })
                .map((entry) => {
                  return <LaConfeCard entry={entry} />;
                })
            }
          </div>
          <div id="costa-rica" class="panel">
            <div class="pb-4">
              <label class="text-white">Costa Rica ðŸ‡¨ðŸ‡·</label>
            </div>
            {
              incomingData
                .filter((entry) => entry.country.toLowerCase() === "costa rica")
                .sort(function (a, b) {
                  if (a.username < b.username) {
                    return -1;
                  }
                  if (a.username > b.username) {
                    return 1;
                  }
                  return 0;
                })
                .map((entry) => {
                  return <LaConfeCard entry={entry} />;
                })
            }
          </div>
          <div id="belice" class="panel">
            <div class="pb-4">
              <label class="text-white">Belice ðŸ‡§ðŸ‡¿</label>
            </div>
            {
              incomingData
                .filter((entry) => entry.country.toLowerCase() === "belice")
                .sort(function (a, b) {
                  if (a.username < b.username) {
                    return -1;
                  }
                  if (a.username > b.username) {
                    return 1;
                  }
                  return 0;
                })
                .map((entry) => {
                  return <LaConfeCard entry={entry} />;
                })
            }
          </div>
          <div id="nicaragua" class="panel">
            <div class="pb-4">
              <label class="text-white">Nicaragua ðŸ‡³ðŸ‡®</label>
            </div>
            {
              incomingData
                .filter((entry) => entry.country.toLowerCase() === "nicaragua")
                .sort(function (a, b) {
                  if (a.username < b.username) {
                    return -1;
                  }
                  if (a.username > b.username) {
                    return 1;
                  }
                  return 0;
                })
                .map((entry) => {
                  return <LaConfeCard entry={entry} />;
                })
            }
          </div>
          <div id="peru" class="panel">
            <div class="pb-4">
              <label class="text-white">PerÃº ðŸ‡µðŸ‡ª</label>
            </div>
            {
              incomingData
                .filter((entry) => entry.country.toLowerCase() === "peru")
                .sort(function (a, b) {
                  if (a.username < b.username) {
                    return -1;
                  }
                  if (a.username > b.username) {
                    return 1;
                  }
                  return 0;
                })
                .map((entry) => {
                  return <LaConfeCard entry={entry} />;
                })
            }
          </div>
        </div>
      </div>
      <Footer />
    </section>
  </body>
  <script src="../../utils/breadcrumbs.js"></script>
  <script is:inline>
    const panels = document.querySelectorAll(".panel");
    document.onreadystatechange = function () {
      if (document.readyState === "interactive") {
        panels.forEach((panel) => {
          if (panel.id === "all") {
            panel.style.display = "block";
          } else {
            panel.style.display = "none";
          }
        });
      }
    };
  </script>
</html>
